Adds the ability to evaluate predictions
Add  the columns "LIKES" & "DISLIKES"  in the end

 ALTER  TABLE METADATA ADD COLUMN  LIKES varchar  after TIME_ADDED  ;
 ALTER  TABLE METADATA ADD COLUMN  DISLIKES varchar  after LIKES ;

Set limit value. Value may be "+"

 ALTER  TABLE  METADATA  ADD CHECK (LIKES  like '+');
 ALTER  TABLE  METADATA  ADD CHECK (DISLIKES like '+');


Put information in the table

 INSERT  INTO METADATA (USER_ID , COOKIE_ID , TIME_ADDED, LIKES ,DISLIKES   ) VALUES ('1' ,'7', CURRENT_TIMESTAMP,'+',null);
 INSERT  INTO METADATA (USER_ID , COOKIE_ID , TIME_ADDED, LIKES ,DISLIKES   ) VALUES ('3' ,'1', CURRENT_TIMESTAMP,null,'+');  
 INSERT  INTO METADATA (USER_ID , COOKIE_ID , TIME_ADDED, LIKES ,DISLIKES   ) VALUES ('4' ,'8', CURRENT_TIMESTAMP,'+',null); 
 INSERT  INTO METADATA (USER_ID , COOKIE_ID , TIME_ADDED, LIKES ,DISLIKES   ) VALUES ('5' ,'2', CURRENT_TIMESTAMP,'+',null); 
 INSERT  INTO METADATA (USER_ID , COOKIE_ID , TIME_ADDED, LIKES ,DISLIKES   ) VALUES ('6' ,'3', CURRENT_TIMESTAMP,null,'+');
 INSERT  INTO METADATA (USER_ID , COOKIE_ID , TIME_ADDED, LIKES ,DISLIKES   ) VALUES ('11' ,'6', CURRENT_TIMESTAMP,'+',null);
 INSERT  INTO METADATA (USER_ID , COOKIE_ID , TIME_ADDED, LIKES ,DISLIKES   ) VALUES ('7','10', CURRENT_TIMESTAMP,'+',null);
 INSERT  INTO METADATA (USER_ID , COOKIE_ID , TIME_ADDED, LIKES ,DISLIKES   ) VALUES ('9' ,'4', CURRENT_TIMESTAMP,null,'+');
 INSERT  INTO METADATA (USER_ID , COOKIE_ID , TIME_ADDED, LIKES ,DISLIKES   ) VALUES ('8' ,'5', CURRENT_TIMESTAMP,'+',null);
 INSERT  INTO METADATA (USER_ID , COOKIE_ID , TIME_ADDED, LIKES ,DISLIKES   ) VALUES ('10' ,'9', CURRENT_TIMESTAMP,null,'+');
 

Count the number of likes and dislikes

 SELECT  COUNT('like and dislike ') FROM METADATA  where LIKES LIKE '+'
 UNION
 SELECT COUNT(*)FROM METADATA  where DISLIKES  LIKE '+';
 
 
 
Add a couple users
 
 INSERT  INTO METADATA (USER_ID , COOKIE_ID , TIME_ADDED  ) VALUES ('11' ,'3', CURRENT_TIMESTAMP);
 INSERT  INTO METADATA (USER_ID , COOKIE_ID , TIME_ADDED, ) VALUES ('5','10', CURRENT_TIMESTAMP);
 

Recent users forget to vote. 
Find them
 
 SELECT USER_ID AS users_dont_events 
 FROM METADATA
 WHERE DISLIKES IS NULL
 AND
 LIKES IS NULL; 
 
Serch for all the predictions with the status 'likes'
 
 SELECT C.COOKIE, M.LIKES FROM COOKIES C  
 INNER JOIN METADATA M 
 ON M.COOKIE_ID =C.ID  
 WHERE M.LIKES NOT IS NULL  ORDER BY C.ID;

Show all the predictions and  user's email  with the status 'likes' 
 
 SELECT C.COOKIE, M.LIKES, U.EMAIL  FROM COOKIES C 
 LEFT JOIN METADATA M 
 ON M.COOKIE_ID =C.ID 
 LEFT JOIN USERS U 
 ON M.USER_ID  = U.ID 
 WHERE M.LIKES NOT IS NULL  ORDER BY C.ID ;
 
Count the number of male users who voted positively  

 SELECT COUNT('MALE')  FROM COOKIES C  
 LEFT JOIN METADATA M 
 ON M.COOKIE_ID =C.ID 
 LEFT JOIN USERS U 
 ON M.USER_ID  = U.ID  
 WHERE M.LIKES NOT IS NULL  AND U.SEX ='male';
 
Count the number of female users who voted negatively
 
 SELECT COUNT('FEMALE')  FROM COOKIES C  
 LEFT JOIN METADATA M
 ON M.COOKIE_ID =C.ID 
 LEFT JOIN USERS U 
 ON M.USER_ID  = U.ID 
 WHERE M.DISLIKES LIKE '+'  AND U.SEX ='female'; 
 
Show all the predictions and users  who voted 

 SELECT  U.ID, U.EMAIL,  C.COOKIE, C.ID,  M.LIKES, M.DISLIKES  FROM USERS U  
 LEFT JOIN METADATA M  
 ON U.ID = M.USER_ID 
 LEFT JOIN COOKIES C  
 ON C.ID  = M.COOKIE_ID 
 WHERE M.LIKES  NOT IS NULL  
 OR
 M.DISLIKES  NOT IS NULL
 ORDER BY U.ID;
 


 
 
 
 
 
 

